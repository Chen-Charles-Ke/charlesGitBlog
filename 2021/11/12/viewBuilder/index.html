<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="keywords" content="Hexo Theme Keep">
    <meta name="description" content="Hexo Theme Keep">
    <meta name="author" content="Charles">
    
    <title>
        
            Swift Notebook - @ViewBuilder |
        
        Charles Tech Blog
    </title>
    
<link rel="stylesheet" href="/charles-blog/css/style.css">

    <link rel="shortcut icon" href="/charles-blog/images/thinking.svg">
    
<link rel="stylesheet" href="/charles-blog/css/font-awesome.min.css">

    <script id="hexo-configurations">
    let KEEP = window.KEEP || {};
    KEEP.hexo_config = {"hostname":"charlesongitee.gitee.io","root":"/charles-blog/","language":"en","path":"search.json"};
    KEEP.theme_config = {"toc":{"enable":true,"number":true,"expand_all":true,"init_open":true},"style":{"primary_color":"#6666FF","avatar":"/images/charlesAvatar.jpg","favicon":"/images/thinking.svg","article_img_align":"left","left_side_width":"260px","content_max_width":"920px","hover":{"shadow":false,"scale":false},"first_screen":{"enable":true,"background_img":"/charles-blog/images/bg.svg","description":"从进入厨房的瞬间开始，你们就肩负着烹饪美食的责任！"},"scroll":{"progress_bar":{"enable":false},"percent":{"enable":false}}},"local_search":{"enable":true,"preload":true},"code_copy":{"enable":true,"style":"mac"},"pjax":{"enable":true},"lazyload":{"enable":false},"version":"3.4.3"};
    KEEP.language_ago = {"second":"%s seconds ago","minute":"%s minutes ago","hour":"%s hours ago","day":"%s days ago","week":"%s weeks ago","month":"%s months ago","year":"%s years ago"};
  </script>
<meta name="generator" content="Hexo 5.4.0"><link rel="alternate" href="/charles-blog/atom.xml" title="Hexo" type="application/atom+xml">
</head>


<body>
<div class="progress-bar-container">
    

    
        <span class="pjax-progress-bar"></span>
        <span class="pjax-progress-icon">
            <i class="fas fa-circle-notch fa-spin"></i>
        </span>
    
</div>


<main class="page-container">

    

    <div class="page-main-content">

        <div class="page-main-content-top">
            <header class="header-wrapper">

    <div class="header-content">
        <div class="left">
            
                <a class="logo-image" href="/charles-blog">
                    <img src="/charles-blog/images/thinking.svg">
                </a>
            
            <a class="logo-title" href="/charles-blog">
                Charles Tech Blog
            </a>
        </div>

        <div class="right">
            <div class="pc">
                <ul class="menu-list">
                    
                        <li class="menu-item">
                            <a class=""
                               href="/charles-blog/"
                            >
                                HOME
                            </a>
                        </li>
                    
                        <li class="menu-item">
                            <a class=""
                               href="/charles-blog/archives"
                            >
                                ARCHIVES
                            </a>
                        </li>
                    
                        <li class="menu-item">
                            <a class=""
                               href="/charles-blog/categories"
                            >
                                CATEGORIES
                            </a>
                        </li>
                    
                        <li class="menu-item">
                            <a class=""
                               href="/charles-blog/moodStream"
                            >
                                MOOD
                            </a>
                        </li>
                    
                        <li class="menu-item">
                            <a class=""
                               href="/charles-blog/about"
                            >
                                ABOUT
                            </a>
                        </li>
                    
                    
                        <li class="menu-item search search-popup-trigger">
                            <i class="fas fa-search"></i>
                        </li>
                    
                </ul>
            </div>
            <div class="mobile">
                
                    <div class="icon-item search search-popup-trigger"><i class="fas fa-search"></i></div>
                
                <div class="icon-item menu-bar">
                    <div class="menu-bar-middle"></div>
                </div>
            </div>
        </div>
    </div>

    <div class="header-drawer">
        <ul class="drawer-menu-list">
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/charles-blog/">HOME</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/charles-blog/archives">ARCHIVES</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/charles-blog/categories">CATEGORIES</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/charles-blog/moodStream">MOOD</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/charles-blog/about">ABOUT</a>
                </li>
            
        </ul>
    </div>

    <div class="window-mask"></div>

</header>


        </div>

        <div class="page-main-content-middle">

            <div class="main-content">

                
                    <div class="fade-in-down-animation">
    <div class="article-content-container">

        <div class="article-title">
            <span class="title-hover-animation">Swift Notebook - @ViewBuilder</span>
        </div>

        
            <span>
            <div class="article-header">
                <span>
                    <div class="avatar">
                        <img src="/charles-blog/images/charlesAvatar.jpg">
                    </div>
                    <div class="info">
                        <div class="author">
                            <!-- <span class="name">Charles</span> -->
                            
                                <span class="author-label">play white noise </span>
                                <span><iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=200 height=52 src="//music.163.com/outchain/player?type=2&id=853708&auto=0&height=32"></iframe></span>
                            
                        </div>
                        <div class="meta-info">
                            <div class="article-meta-info">
    <span class="article-date article-meta-item">
        <i class="fas fa-edit"></i>&nbsp;2021-11-12 21:49:20
    </span>
    
        <span class="article-categories article-meta-item">
            <i class="fas fa-folder"></i>&nbsp;
            <ul>
                
                    <li>
                        <a href="/charles-blog/categories/Swift-Notebook/">Swift Notebook</a>&nbsp;
                    </li>
                
            </ul>
        </span>
    
    

    
    
        <span class="article-wordcount article-meta-item">
            <i class="fas fa-file-word"></i>&nbsp;<span>634 Words</span>
        </span>
    
    
        <span class="article-min2read article-meta-item">
            <i class="fas fa-clock"></i>&nbsp;<span>3 Mins</span>
        </span>
    
    
</div>

                        </div>
                    </div>
                </span>
            </div>
            </span>
        

        <div class="article-content markdown-body">
            <p>Alright, id say if you want to use @ViewBuilder, I ventured infer that the basic swiftUI elements and components can no longer meet the complex requirements or customization requirements of your project. We need to DIY the more extensible view.  </p>
<p>Today, let’s take a good look at this @ViewBuilder</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> SwiftUI</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">ContentView</span>: <span class="title">View</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> body: <span class="keyword">some</span> <span class="type">View</span> &#123;</span><br><span class="line">        <span class="type">HStack</span>&#123;</span><br><span class="line">            <span class="type">Text</span>(<span class="string">&quot;hello&quot;</span>)</span><br><span class="line">            <span class="type">Text</span>(<span class="string">&quot;world&quot;</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Very simple hello world level swiftUI code huh? as all we know, in the world of swiftUI, everything is a view, but have you ever thought about why we put two text views in hstack, so they can be aligned horizontally, and why hstack can accept two views?   </p>
<p>Let’s click into hstack’s definition to have a look:</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@inlinable</span> <span class="keyword">public</span> <span class="function"><span class="keyword">init</span>(</span></span><br><span class="line"><span class="function">    <span class="params">alignment</span>: <span class="type">VerticalAlignment</span> <span class="operator">=</span> .center,</span></span><br><span class="line"><span class="function">    <span class="params">spacing</span>: <span class="type">CGFloat</span>? <span class="operator">=</span> <span class="literal">nil</span>,</span></span><br><span class="line"><span class="function">    <span class="meta">@ViewBuilder</span> <span class="params">content</span>: () -&gt; <span class="type">Content</span></span></span><br><span class="line"><span class="function">)</span></span><br></pre></td></tr></table></figure>
<p>From the source code, we can see that there is a closure content modified by @Viewbuilder in the init method, which means that the expression inside the closure needs to be processed by @Viewbuilder. How to handle it? When compiling the closure decorated by @Viewbuilder, swift will first try to find the static buildblock method in the @Viewbuilder structure. This method has two views as parameters. </p>
<p>Let’s take a look first:</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@available</span>(<span class="keyword">iOS</span> <span class="number">13.0</span>, OSX <span class="number">10.15</span>, <span class="keyword">tvOS</span> <span class="number">13.0</span>, <span class="keyword">watchOS</span> <span class="number">6.0</span>, <span class="operator">*</span>)</span><br><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">ViewBuilder</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="function"><span class="keyword">func</span> <span class="title">buildBlock</span>&lt;<span class="type">C0</span>, <span class="type">C1</span>&gt;(<span class="keyword">_</span> <span class="params">c0</span>: <span class="type">C0</span>, <span class="keyword">_</span> <span class="params">c1</span>: <span class="type">C1</span>)</span> -&gt; <span class="type">TupleView</span>&lt;(<span class="type">C0</span>, <span class="type">C1</span>)&gt; <span class="keyword">where</span> <span class="type">C0</span> : <span class="type">View</span>, <span class="type">C1</span> : <span class="type">View</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>From the source code of this viewbuilder, we can see that it receives two views as input parameters and returns a tupleview combined with two views.<br>If you read the source code, you will find other statements:</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@available</span>(<span class="keyword">iOS</span> <span class="number">13.0</span>, <span class="keyword">macOS</span> <span class="number">10.15</span>, <span class="keyword">tvOS</span> <span class="number">13.0</span>, <span class="keyword">watchOS</span> <span class="number">6.0</span>, <span class="operator">*</span>)</span><br><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">ViewBuilder</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="function"><span class="keyword">func</span> <span class="title">buildBlock</span>&lt;<span class="type">C0</span>, <span class="type">C1</span>, <span class="type">C2</span>, <span class="type">C3</span>, <span class="type">C4</span>, <span class="type">C5</span>, <span class="type">C6</span>, <span class="type">C7</span>, <span class="type">C8</span>, <span class="type">C9</span>&gt;(<span class="keyword">_</span> <span class="params">c0</span>: <span class="type">C0</span>, <span class="keyword">_</span> <span class="params">c1</span>: <span class="type">C1</span>, <span class="keyword">_</span> <span class="params">c2</span>: <span class="type">C2</span>, <span class="keyword">_</span> <span class="params">c3</span>: <span class="type">C3</span>, <span class="keyword">_</span> <span class="params">c4</span>: <span class="type">C4</span>, <span class="keyword">_</span> <span class="params">c5</span>: <span class="type">C5</span>, <span class="keyword">_</span> <span class="params">c6</span>: <span class="type">C6</span>, <span class="keyword">_</span> <span class="params">c7</span>: <span class="type">C7</span>, <span class="keyword">_</span> <span class="params">c8</span>: <span class="type">C8</span>, <span class="keyword">_</span> <span class="params">c9</span>: <span class="type">C9</span>)</span> -&gt; <span class="type">TupleView</span>&lt;(<span class="type">C0</span>, <span class="type">C1</span>, <span class="type">C2</span>, <span class="type">C3</span>, <span class="type">C4</span>, <span class="type">C5</span>, <span class="type">C6</span>, <span class="type">C7</span>, <span class="type">C8</span>, <span class="type">C9</span>)&gt; <span class="keyword">where</span> <span class="type">C0</span> : <span class="type">View</span>, <span class="type">C1</span> : <span class="type">View</span>, <span class="type">C2</span> : <span class="type">View</span>, <span class="type">C3</span> : <span class="type">View</span>, <span class="type">C4</span> : <span class="type">View</span>, <span class="type">C5</span> : <span class="type">View</span>, <span class="type">C6</span> : <span class="type">View</span>, <span class="type">C7</span> : <span class="type">View</span>, <span class="type">C8</span> : <span class="type">View</span>, <span class="type">C9</span> : <span class="type">View</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>What is tupleview?</p>
<blockquote>
<p>Tupleview is a view created from a quick tuple of view values. Tupleview has no logic inside. It only keeps the view. Tupleview is completely transparent and behaves like its parent view. This means that when you put it into hstack, tupleview will place the view from tuples horizontally.</p>
</blockquote>
<p>Alright, now that we understand the role of @Viewbuilder, let’s think about how to use it.</p>
<p>Suppose we want to do notification function for our app. First, we think that this notification should be componentized, but the content of our notification should be diversified and customized. oh yeah, we can use @Viewbuilder.</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> SwiftUI</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">NotificationView</span>&lt;<span class="title">Content</span>: <span class="title">View</span>&gt;: <span class="title">View</span> </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> content: <span class="type">Content</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">init</span>(<span class="meta">@ViewBuilder</span> <span class="params">content</span>: () -&gt; <span class="type">Content</span>)</span> &#123;</span><br><span class="line">        <span class="keyword">self</span>.content <span class="operator">=</span> content()</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> body: <span class="keyword">some</span> <span class="type">View</span> &#123;</span><br><span class="line">        content</span><br><span class="line">            .padding()</span><br><span class="line">            .background(<span class="type">Color</span>(.tertiarySystemBackground))</span><br><span class="line">            .cornerRadius(<span class="number">16</span>)</span><br><span class="line">            .transition(.move(edge: .top))</span><br><span class="line">            .animation(.spring())</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>We build a notificationview here. In this view, we draw the basic style of notification, but the type of content is a closure decorated by @Viewbuilder. This lays a foundation for us to customize the push content later.</p>
<p>When we want to use this notificationview, we can:</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> SwiftUI</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">ContentView</span>: <span class="title">View</span> </span>&#123;</span><br><span class="line">    <span class="meta">@State</span> <span class="keyword">private</span> <span class="keyword">var</span> notificationShown <span class="operator">=</span> <span class="literal">false</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> body: <span class="keyword">some</span> <span class="type">View</span> &#123;</span><br><span class="line">        <span class="type">VStack</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">self</span>.notificationShown &#123;</span><br><span class="line">                <span class="type">NotificationView</span> &#123;</span><br><span class="line">                    <span class="type">Text</span>(<span class="string">&quot;notification&quot;</span>)</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="type">Spacer</span>()</span><br><span class="line"></span><br><span class="line">            <span class="type">Button</span>(<span class="string">&quot;toggle&quot;</span>) &#123;</span><br><span class="line">                <span class="keyword">self</span>.notificationShown.toggle()</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="type">Spacer</span>()</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
        </div>

        
            <div class="post-copyright-info">
                <div class="article-copyright-info-container">
    <ul>
        <li>Post title：Swift Notebook - @ViewBuilder</li>
        <li>Post author：Charles</li>
        <li>Create time：2021-11-12 21:49:20</li>
        <li>
            Post link：https://charlesongitee.gitee.io/charles-blog/2021/11/12/viewBuilder/
        </li>
        <li>
            Copyright Notice：All articles in this blog are licensed under <a class="license" target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh">BY-NC-SA</a> unless stating additionally.
        </li>
    </ul>
</div>

            </div>
        

        
            <div class="article-nav">
                
                    <div class="article-prev">
                        <a class="prev"
                           rel="prev"
                           href="/charles-blog/2021/11/13/tabBar/"
                        >
                            <span class="left arrow-icon flex-center">
                              <i class="fas fa-chevron-left"></i>
                            </span>
                            <span class="title flex-center">
                                <span class="post-nav-title-item">Swift UI Component - Segemented Picker</span>
                                <span class="post-nav-item">Prev posts</span>
                            </span>
                        </a>
                    </div>
                
                
                    <div class="article-next">
                        <a class="next"
                           rel="next"
                           href="/charles-blog/2021/11/12/userDefaults/"
                        >
                            <span class="title flex-center">
                                <span class="post-nav-title-item">Swift Utility Component - UserDefaults</span>
                                <span class="post-nav-item">Next posts</span>
                            </span>
                            <span class="right arrow-icon flex-center">
                              <i class="fas fa-chevron-right"></i>
                            </span>
                        </a>
                    </div>
                
            </div>
        

        
            <div class="comment-container">
                <div class="comments-container">
    <div id="comment-anchor"></div>
    <div class="comment-area-title">
        <i class="fas fa-comments">&nbsp;Comments</i>
    </div>
    

        
            
    <div class="valine-container">
        <script data-pjax
                src="//cdn.jsdelivr.net/npm/valine@latest/dist/Valine.min.js"></script>
        <div id="vcomments"></div>
        <script data-pjax>
            function loadValine() {
                new Valine({
                    el: '#vcomments',
                    appId: 'YHhKBHO6SRN6dmmrFD3VdKrB-gzGzoHsz',
                    appKey: 'mxwiqks41hWkiqjluqNRxPKx',
                    meta: ['nick', 'mail', 'link'],
                    avatar: 'wavatar',
                    enableQQ: true,
                    placeholder: 'leave your thoughts here!',
                    lang: 'en'.toLowerCase()
                });

                function getAuthor(language) {
                    switch (language) {
                        case 'en':
                            return 'Author';
                        case 'zh-CN':
                            return '博主';
                        default:
                            return 'Master';
                    }
                }

                // Add "Author" identify
                const getValineDomTimer = setInterval(() => {
                    const vcards = document.querySelectorAll('#vcomments .vcards .vcard');
                    if (vcards.length > 0) {
                        let author = 'Charles';

                        if (author) {
                            for (let vcard of vcards) {
                                const vnick_dom = vcard.querySelector('.vhead .vnick');
                                const vnick = vnick_dom.innerHTML;
                                if (vnick === author) {
                                    vnick_dom.innerHTML = `${vnick} <span class="author">${getAuthor(KEEP.hexo_config.language)}</span>`
                                }
                            }
                        }
                        clearInterval(getValineDomTimer);
                    } else {
                        clearInterval(getValineDomTimer);
                    }
                }, 2000);
            }

            if ('true') {
                const loadValineTimeout = setTimeout(() => {
                    loadValine();
                    clearTimeout(loadValineTimeout);
                }, 1000);
            } else {
                window.addEventListener('DOMContentLoaded', loadValine);
            }
        </script>
    </div>



        
    
</div>

            </div>
        
    </div>
</div>


                
            </div>

        </div>

        <div class="page-main-content-bottom">
            <footer class="footer">
    <div class="info-container">
        <div class="copyright-info info-item">
            &copy;
            
              <span>2020</span>
              -
            
            2021&nbsp;<i class="fas fa-heart icon-animate"></i>&nbsp;<a href="/">Charles</a>
        </div>
        
        <!-- <div class="theme-info info-item">
            Powered by <a target="_blank" href="https://hexo.io">Hexo</a>&nbsp;|&nbsp;Theme&nbsp;<a class="theme-version" target="_blank" href=" ">Keep v3.4.3</a>
        </div> -->
        
        
    </div>
</footer>

        </div>
    </div>

    
        <div class="post-tools">
            <div class="post-tools-container">
    <ul class="tools-list">
        <!-- TOC aside toggle -->
        
            <li class="tools-item page-aside-toggle">
                <i class="fas fa-outdent"></i>
            </li>
        

        <!-- go comment -->
        
            <li class="go-comment">
                <i class="fas fa-comment"></i>
            </li>
        
    </ul>
</div>

        </div>
    

    <div class="right-bottom-side-tools">
        <div class="side-tools-container">
    <ul class="side-tools-list">
        <li class="tools-item tool-font-adjust-plus flex-center">
            <i class="fas fa-search-plus"></i>
        </li>

        <li class="tools-item tool-font-adjust-minus flex-center">
            <i class="fas fa-search-minus"></i>
        </li>

        <li class="tools-item tool-expand-width flex-center">
            <i class="fas fa-arrows-alt-h"></i>
        </li>

        <li class="tools-item tool-dark-light-toggle flex-center">
            <i class="fas fa-moon"></i>
        </li>

        <!-- rss -->
        

        
            <li class="tools-item tool-scroll-to-top flex-center">
                <i class="fas fa-arrow-up"></i>
            </li>
        

        <li class="tools-item tool-scroll-to-bottom flex-center">
            <i class="fas fa-arrow-down"></i>
        </li>
    </ul>

    <ul class="exposed-tools-list">
        <li class="tools-item tool-toggle-show flex-center">
            <i class="fas fa-cog fa-spin"></i>
        </li>
        
    </ul>
</div>

    </div>

    
        <aside class="page-aside">
            <div class="post-toc-wrap">
    <div class="post-toc">
        
    </div>
</div>
        </aside>
    

    <div class="image-viewer-container">
    <img src="">
</div>


    
        <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
          <span class="search-input-field-pre">
            <i class="fas fa-keyboard"></i>
          </span>
            <div class="search-input-container">
                <input autocomplete="off"
                       autocorrect="off"
                       autocapitalize="off"
                       placeholder="Search..."
                       spellcheck="false"
                       type="search"
                       class="search-input"
                >
            </div>
            <span class="popup-btn-close">
                <i class="fas fa-times"></i>
            </span>
        </div>
        <div id="search-result">
            <div id="no-result">
                <i class="fas fa-spinner fa-pulse fa-5x fa-fw"></i>
            </div>
        </div>
    </div>
</div>

    

</main>




<script src="/charles-blog/js/utils.js"></script>

<script src="/charles-blog/js/main.js"></script>

<script src="/charles-blog/js/header-shrink.js"></script>

<script src="/charles-blog/js/back2top.js"></script>

<script src="/charles-blog/js/dark-light-toggle.js"></script>



    
<script src="/charles-blog/js/local-search.js"></script>




    
<script src="/charles-blog/js/code-copy.js"></script>





<div class="post-scripts pjax">
    
        
<script src="/charles-blog/js/left-side-toggle.js"></script>

<script src="/charles-blog/js/libs/anime.min.js"></script>

<script src="/charles-blog/js/toc.js"></script>

    
</div>


    
<script src="/charles-blog/js/libs/pjax.min.js"></script>

<script>
    window.addEventListener('DOMContentLoaded', () => {
        window.pjax = new Pjax({
            selectors: [
                'head title',
                '.page-container',
                '.pjax'
            ],
            history: true,
            debug: false,
            cacheBust: false,
            timeout: 0,
            analytics: false,
            currentUrlFullReload: false,
            scrollRestoration: false,
            // scrollTo: true,
        });

        document.addEventListener('pjax:send', () => {
            KEEP.utils.pjaxProgressBarStart();
        });

        document.addEventListener('pjax:complete', () => {
            KEEP.utils.pjaxProgressBarEnd();
            window.pjax.executeScripts(document.querySelectorAll('script[data-pjax], .pjax script'));
            KEEP.refresh();
        });
    });
</script>



<script src="/charles-blog/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginModelPath":"assets/","model":{"jsonPath":"/charles-blog/live2dw/assets/haru02.model.json"},"display":{"position":"right","width":300,"height":600},"mobile":{"show":false,"scale":0.25},"log":false,"pluginJsPath":"lib/","pluginRootPath":"live2dw/","tagMode":false});</script></body>
</html>
